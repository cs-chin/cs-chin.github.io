<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<meta name="theme-color" content="#222f4e">
	<meta name="apple-mobile-web-app-capable" content="no">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-title" content="PWA">
	<link rel="apple-touch-icon" href="/images/icon-72.png" sizes="72x72">
	<link rel="apple-touch-icon" href="/images/icon-114.png" sizes="114x114">
	<link rel="apple-touch-icon" href="/images/icon-120.png" sizes="120x120">
	<link rel="apple-touch-icon" href="/images/icon-144.png" sizes="144x144">
	<link rel="manifest" href="/manifest.json">
	<link rel="shortcut icon" href="https://cs-chin.github.io/images/favicon.ico" type="image/vnd.microsoft.icon" />
	<title>初めてのPWS</title>
</head>
<body>
	<h1>初めてのPWS</h1>
	<img src="./images/icon-256.png" alt="" class="image" />

<script>
/* serviceWorker */
if ('serviceWorker' in navigator) {
	navigator.serviceWorker.register('/sw.js', { scope: '/' })
	.then(function(reg) {
		console.log('登録に成功しました。 Scope は ' + reg.scope);
		// alert('登録に成功しました。 Scope は ' + reg.scope);
	}).catch(function(error) {
		console.log('登録に失敗しました。' + error);
		// alert('登録に失敗しました。' + error);
	});
}

let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e) => {
	console.log("显示「添加到主屏幕」对话框");
  // Stash the event so it can be triggered later.
//   deferredPrompt = e;
//   ...
});
</script>
</body>
</html>
